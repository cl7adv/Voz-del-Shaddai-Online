<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Shaddai Caribe - Emisora Cristiana</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                        url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .radio-container {
            width: 100%;
            max-width: 500px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .radio-header {
            margin-bottom: 30px;
        }

        .radio-header h1 {
            font-size: 2.5rem;
            color: #ffa502;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .radio-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            color: #70a1ff;
        }

        .radio-icon {
            font-size: 5rem;
            color: #ffa502;
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .now-playing {
            background: linear-gradient(to right, rgba(255, 165, 2, 0.2), rgba(255, 165, 2, 0.1));
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
            border-left: 5px solid #ffa502;
            text-align: left;
        }

        .now-playing h3 {
            color: #ffa502;
            margin-bottom: 10px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .song-title {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 5px;
            min-height: 28px;
            color: #fff;
        }

        .song-genre {
            font-style: italic;
            opacity: 0.8;
            color: #70a1ff;
            font-size: 1rem;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-top: 30px;
        }

        .power-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .power-btn {
            background: linear-gradient(to right, #ff4757, #ff3838);
            border: none;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 71, 87, 0.4);
        }

        .power-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 71, 87, 0.6);
        }

        .power-btn.on {
            background: linear-gradient(to right, #2ed573, #26c46a);
            box-shadow: 0 5px 15px rgba(46, 213, 115, 0.4);
        }

        .power-btn.on:hover {
            box-shadow: 0 8px 20px rgba(46, 213, 115, 0.6);
        }

        .volume-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .volume-control label {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            color: #ffa502;
        }

        .volume-slider {
            width: 100%;
            -webkit-appearance: none;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            outline: none;
            margin-top: 10px;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 25px;
            height: 25px;
            background: #ffa502;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .volume-icons {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 5px;
        }

        .volume-icons i {
            color: #ffa502;
            font-size: 1.2rem;
        }

        .status {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .song-counter {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .footer a {
            color: #ffa502;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .loading {
            display: none;
            color: #70a1ff;
            font-style: italic;
            margin: 10px 0;
        }

        .error {
            display: none;
            color: #ff4757;
            background: rgba(255, 71, 87, 0.1);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }

        .playing-indicator {
            display: inline-block;
            margin-left: 10px;
            color: #ffa502;
            animation: playing 1.5s infinite;
        }

        @keyframes playing {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        @media (max-width: 600px) {
            .radio-container {
                padding: 20px;
            }
            
            .radio-header h1 {
                font-size: 2rem;
            }
            
            .radio-icon {
                font-size: 4rem;
            }
            
            .song-title {
                font-size: 1.2rem;
            }
        }

        /* Efectos de olas en la parte inferior */
        .waves {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            z-index: -1;
            opacity: 0.3;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 1200 120" xmlns="http://www.w3.org/2000/svg"><path d="M0 0v46.29c47.79 22.2 103.59 32.17 158 28 70.36-5.37 136.33-33.31 206.8-37.5 73.84-4.36 147.54 16.88 218.2 35.26 69.27 18 138.3 24.88 209.4 13.08 36.15-6 69.85-17.84 104.45-29.34C989.49 25 1113-14.29 1200 52.47V0z" fill="%230099ff"/></svg>');
            animation: wave 15s linear infinite;
        }

        .wave:nth-child(2) {
            animation: wave 20s linear infinite;
            opacity: 0.5;
            animation-delay: -5s;
        }

        @keyframes wave {
            0% { transform: translateX(0) translateZ(0) scaleY(1); }
            50% { transform: translateX(-25%) translateZ(0) scaleY(0.8); }
            100% { transform: translateX(-50%) translateZ(0) scaleY(1); }
        }
    </style>
</head>
<body>
    <!-- Efecto de olas -->
    <div class="waves">
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <!-- Contenedor principal -->
    <div class="radio-container">
        <div class="radio-header">
            <h1><i class="fas fa-broadcast-tower"></i> Radio Shaddai</h1>
            <p>Emisora Cristiana del Caribe</p>
        </div>

        <div class="radio-icon">
            <i class="fas fa-music"></i>
        </div>

        <div class="now-playing">
            <h3><i class="fas fa-headphones"></i> Reproduciendo ahora:</h3>
            <div class="song-title" id="songTitle">Bienvenido a Radio Shaddai</div>
            <div class="song-genre" id="songGenre">Emisora Cristiana</div>
        </div>

        <div class="controls">
            <div class="power-control">
                <button class="power-btn" id="powerBtn">
                    <i class="fas fa-power-off"></i>
                </button>
                <div id="powerStatus">Presiona para encender</div>
            </div>

            <div class="volume-control">
                <label for="volumeSlider">
                    <i class="fas fa-volume-up"></i> Volumen
                </label>
                <input type="range" min="0" max="100" value="70" class="volume-slider" id="volumeSlider">
                <div class="volume-icons">
                    <i class="fas fa-volume-mute"></i>
                    <i class="fas fa-volume-up"></i>
                </div>
            </div>
        </div>

        <div class="loading" id="loading">Cargando música...</div>
        <div class="error" id="error"></div>

        <div class="status" id="status">
            <i class="fas fa-info-circle"></i> Radio Shaddai - Transmitiendo la Palabra de Dios
        </div>

        <div class="song-counter">
            <span>Total de canciones: <span id="songCount">0</span></span>
            <span>Modo: <span id="playMode">Aleatorio</span></span>
        </div>

        <div class="footer">
            <p><i class="fas fa-cross" style="color: #ffa502;"></i> Música Cristiana desde el Caribe</p>
            <p>Biblioteca: <a href="https://github.com/cl7adv/Voz-del-Shaddai-Online/tree/main/musica" target="_blank">GitHub</a></p>
        </div>
    </div>

    <script>
        // Lista de canciones cristianas con enlaces directos
        const christianSongs = [
            {
                title: "Generación 12 - Quiero Conocer A Jesús (Yeshua)",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Generaci%C3%B3n%2012%20-%20Quiero%20Conocer%20A%20Jes%C3%BAs%20(Yeshua)%20Nuestro%20Dios%20I%20VIDEO%20OFICIAL%20I%20M%C3%BAsica%20Cristiana%202022.mp3",
                genre: "Alabanza"
            },
            {
                title: "Alabanza y Adoración 1",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Alabanza%20y%20Adoraci%C3%B3n%201.mp3",
                genre: "Alabanza"
            },
            {
                title: "Alabanza y Adoración 2",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Alabanza%20y%20Adoraci%C3%B3n%202.mp3",
                genre: "Alabanza"
            },
            {
                title: "Bendecid Su Nombre",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Bendecid%20Su%20Nombre.mp3",
                genre: "Alabanza"
            },
            {
                title: "Canto de Victoria",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Canto%20de%20Victoria.mp3",
                genre: "Gospel"
            },
            {
                title: "Celebrad a Cristo",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Celebrad%20a%20Cristo.mp3",
                genre: "Gospel"
            },
            {
                title: "Coritos Cristianos 1",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Coritos%201.mp3",
                genre: "Coritos"
            },
            {
                title: "Coritos Cristianos 2",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Coritos%202.mp3",
                genre: "Coritos"
            },
            {
                title: "Cuan Grande Es El",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Cuan%20Grande%20Es%20El.mp3",
                genre: "Himno"
            },
            {
                title: "Digno Es El Cordero",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Digno%20Es%20El%20Cordero.mp3",
                genre: "Alabanza"
            },
            {
                title: "El Poder de la Cruz",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/El%20Poder%20de%20la%20Cruz.mp3",
                genre: "Gospel"
            },
            {
                title: "En La Cruz",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/En%20La%20Cruz.mp3",
                genre: "Himno"
            },
            {
                title: "Getsemani",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Getsemani.mp3",
                genre: "Reflexión"
            },
            {
                title: "Gloria a Dios",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Gloria%20a%20Dios.mp3",
                genre: "Alabanza"
            },
            {
                title: "Grande Es Tu Fidelidad",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Grande%20Es%20Tu%20Fidelidad.mp3",
                genre: "Himno"
            },
            {
                title: "Hay Poder en la Sangre",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Hay%20Poder.mp3",
                genre: "Gospel"
            },
            {
                title: "Himno a la Santísima Trinidad",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Himno%20a%20la%20Sant%C3%ADsima%20Trinidad.mp3",
                genre: "Himno"
            },
            {
                title: "Hosanna",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Hosanna.mp3",
                genre: "Alabanza"
            },
            {
                title: "La Tierra Canta",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/La%20Tierra%20Canta.mp3",
                genre: "Alabanza"
            },
            {
                title: "Mi Vida Esta en Ti Señor",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Mi%20Vida%20Esta%20en%20Ti.mp3",
                genre: "Alabanza"
            },
            {
                title: "No Hay Dios Tan Grande",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/No%20Hay%20Dios%20Tan%20Grande.mp3",
                genre: "Alabanza"
            },
            {
                title: "Padre Nuestro",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Padre%20Nuestro.mp3",
                genre: "Oración"
            },
            {
                title: "Paz en la Tormenta",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Paz%20en%20la%20Tormenta.mp3",
                genre: "Reflexión"
            },
            {
                title: "Puedes Confiar en Dios",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Puedes%20Confiar.mp3",
                genre: "Alabanza"
            },
            {
                title: "Renuévame Señor",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Renu%C3%A9vame.mp3",
                genre: "Alabanza"
            },
            {
                title: "Santo Santo Santo",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Santo%20Santo%20Santo.mp3",
                genre: "Himno"
            },
            {
                title: "Te Alabamos Señor",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Te%20Alabamos%20Se%C3%B1or.mp3",
                genre: "Alabanza"
            },
            {
                title: "Tu Fidelidad",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Tu%20Fidelidad.mp3",
                genre: "Alabanza"
            },
            {
                title: "Ven Espíritu Santo",
                url: "https://raw.githubusercontent.com/cl7adv/Voz-del-Shaddai-Online/main/musica/Ven%20Esp%C3%ADritu%20Santo.mp3",
                genre: "Oración"
            }
        ];

        // Variables globales
        let audioPlayer = new Audio();
        let isPlaying = false;
        let isPoweredOn = false;
        let currentVolume = 0.7;
        let currentSongIndex = -1;
        let allSongs = [];
        let shuffledSongs = [];
        let fadeDuration = 2; // segundos para el fade

        // Elementos del DOM
        const powerBtn = document.getElementById('powerBtn');
        const powerStatus = document.getElementById('powerStatus');
        const volumeSlider = document.getElementById('volumeSlider');
        const songTitle = document.getElementById('songTitle');
        const songGenre = document.getElementById('songGenre');
        const loadingEl = document.getElementById('loading');
        const errorEl = document.getElementById('error');
        const statusEl = document.getElementById('status');
        const songCountEl = document.getElementById('songCount');
        const playModeEl = document.getElementById('playMode');

        // Función para cargar canciones
        function loadSongs() {
            showLoading("Cargando biblioteca de música...");
            errorEl.style.display = 'none';
            
            // Usar la lista de canciones cristianas
            allSongs = christianSongs.map((song, index) => ({
                id: index,
                title: song.title,
                url: song.url,
                genre: song.genre
            }));
            
            // Mezclar canciones para reproducción aleatoria
            shuffleSongs();
            
            // Actualizar interfaz
            updateSongCount();
            hideLoading();
            
            statusEl.innerHTML = `<i class="fas fa-check-circle"></i> ${allSongs.length} canciones cargadas - Listo`;
            
            // Si la radio está encendida, comenzar a reproducir
            if (isPoweredOn) {
                playRandomSong();
            }
        }

        // Función para mezclar canciones
        function shuffleSongs() {
            shuffledSongs = [...allSongs];
            for (let i = shuffledSongs.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledSongs[i], shuffledSongs[j]] = [shuffledSongs[j], shuffledSongs[i]];
            }
        }

        // Función para obtener una canción aleatoria
        function getRandomSong() {
            if (shuffledSongs.length === 0) {
                shuffleSongs();
            }
            
            const song = shuffledSongs.shift();
            
            if (shuffledSongs.length === 0) {
                shuffleSongs();
            }
            
            return song;
        }

        // Función para encontrar el índice de una canción
        function getSongIndex(song) {
            return allSongs.findIndex(s => s.id === song.id);
        }

        // Función para reproducir una canción aleatoria
        function playRandomSong() {
            if (!isPoweredOn || allSongs.length === 0) return;
            
            const song = getRandomSong();
            currentSongIndex = getSongIndex(song);
            playSong(song);
        }

        // Función para reproducir una canción específica
        function playSong(song) {
            showLoading(`Cargando: ${song.title}...`);
            
            // Aplicar fade out si ya hay una canción reproduciéndose
            if (isPlaying) {
                fadeOut(() => {
                    loadAndPlay(song);
                });
            } else {
                loadAndPlay(song);
            }
        }

        // Función para cargar y reproducir una canción
        function loadAndPlay(song) {
            // Detener audio actual
            audioPlayer.pause();
            audioPlayer.currentTime = 0;
            
            // Asignar nueva fuente
            audioPlayer.src = song.url;
            
            // Reproducir
            const playPromise = audioPlayer.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    isPlaying = true;
                    
                    // Actualizar interfaz
                    songTitle.innerHTML = song.title + ' <span class="playing-indicator"><i class="fas fa-volume-up"></i></span>';
                    songGenre.textContent = song.genre;
                    hideLoading();
                    errorEl.style.display = 'none';
                    
                    // Aplicar fade in
                    fadeIn();
                    
                    // Actualizar estado
                    statusEl.innerHTML = `<i class="fas fa-play-circle"></i> Reproduciendo: ${song.title}`;
                })
                .catch(error => {
                    console.error("Error al reproducir:", error);
                    hideLoading();
                    
                    if (error.name === 'NotAllowedError') {
                        errorEl.textContent = "Por favor, da clic en el botón de encender para comenzar.";
                        errorEl.style.display = 'block';
                    } else {
                        errorEl.textContent = `Error al cargar "${song.title}". Intentando siguiente canción...`;
                        errorEl.style.display = 'block';
                        setTimeout(playRandomSong, 2000);
                    }
                });
            }
        }

        // Función para fade out
        function fadeOut(callback) {
            let vol = currentVolume;
            const steps = fadeDuration * 10;
            const stepSize = vol / steps;
            
            const fadeInterval = setInterval(() => {
                if (vol > 0.1) {
                    vol -= stepSize;
                    if (vol < 0) vol = 0;
                    audioPlayer.volume = vol;
                } else {
                    clearInterval(fadeInterval);
                    audioPlayer.volume = 0;
                    callback();
                }
            }, 100);
        }

        // Función para fade in
        function fadeIn() {
            let vol = 0;
            audioPlayer.volume = vol;
            const steps = fadeDuration * 10;
            const stepSize = currentVolume / steps;
            
            const fadeInterval = setInterval(() => {
                if (vol < currentVolume) {
                    vol += stepSize;
                    if (vol > currentVolume) vol = currentVolume;
                    audioPlayer.volume = vol;
                } else {
                    clearInterval(fadeInterval);
                    audioPlayer.volume = currentVolume;
                }
            }, 100);
        }

        // Función para alternar encendido/apagado
        function togglePower() {
            isPoweredOn = !isPoweredOn;
            
            if (isPoweredOn) {
                // Encender
                powerBtn.classList.add('on');
                powerStatus.textContent = "Radio encendida";
                powerStatus.style.color = "#2ed573";
                
                // Si no hay canciones cargadas, cargarlas
                if (allSongs.length === 0) {
                    loadSongs();
                } else {
                    // Reproducir una canción aleatoria
                    playRandomSong();
                }
                
                statusEl.innerHTML = `<i class="fas fa-broadcast-tower"></i> Transmitiendo en vivo`;
                
            } else {
                // Apagar
                powerBtn.classList.remove('on');
                powerStatus.textContent = "Radio apagada";
                powerStatus.style.color = "#ff4757";
                
                // Detener reproducción
                audioPlayer.pause();
                isPlaying = false;
                
                // Quitar indicador de reproducción
                songTitle.textContent = "Radio Shaddai";
                songGenre.textContent = "Emisora apagada";
                
                statusEl.innerHTML = `<i class="fas fa-power-off"></i> Radio apagada`;
            }
        }

        // Función para actualizar volumen
        function updateVolume(volume) {
            currentVolume = volume / 100;
            audioPlayer.volume = currentVolume;
            
            // Actualizar iconos de volumen
            const volumeIcons = document.querySelectorAll('.volume-icons i');
            if (currentVolume === 0) {
                volumeIcons[0].className = 'fas fa-volume-mute';
                volumeIcons[1].className = 'fas fa-volume-mute';
            } else if (currentVolume < 0.5) {
                volumeIcons[0].className = 'fas fa-volume-down';
                volumeIcons[1].className = 'fas fa-volume-down';
            } else {
                volumeIcons[0].className = 'fas fa-volume-up';
                volumeIcons[1].className = 'fas fa-volume-up';
            }
        }

        // Función para actualizar contador de canciones
        function updateSongCount() {
            songCountEl.textContent = allSongs.length;
        }

        // Función para mostrar carga
        function showLoading(message) {
            loadingEl.textContent = message;
            loadingEl.style.display = 'block';
        }

        // Función para ocultar carga
        function hideLoading() {
            loadingEl.style.display = 'none';
        }

        // Inicializar eventos
        function initEvents() {
            // Botón de encendido/apagado
            powerBtn.addEventListener('click', togglePower);
            
            // Control de volumen
            volumeSlider.addEventListener('input', () => {
                updateVolume(volumeSlider.value);
            });
            
            // Configurar audio player
            audioPlayer.volume = currentVolume;
            audioPlayer.addEventListener('ended', playRandomSong);
            audioPlayer.addEventListener('error', function(e) {
                console.error("Error de audio:", e);
                errorEl.textContent = "Error de audio. Saltando a la siguiente canción...";
                errorEl.style.display = 'block';
                setTimeout(playRandomSong, 2000);
            });
        }

        // Inicializar cuando cargue la página
        window.addEventListener('DOMContentLoaded', function() {
            // Inicializar eventos
            initEvents();
            
            // Cargar canciones
            loadSongs();
            
            // Mostrar estado inicial
            statusEl.innerHTML = `<i class="fas fa-music"></i> Listo para escuchar música cristiana`;
        });
    </script>
</body>
</html>
